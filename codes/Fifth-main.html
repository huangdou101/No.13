<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ç¬¬äº”ç«  Â· èµ°å»Šä¸åŠå…¬å®¤ï¼ˆFifth-mainï¼‰</title>
<style>
:root {
  --primary-color: #8B0000; /* æš—çº¢ */
  --dark-red: #5A0000;
  --text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
}

* { margin:0; padding:0; box-sizing:border-box; }
body,html { height:100%; background:#000; color:#fff; font-family:"Microsoft YaHei","SimHei",sans-serif; overflow:hidden; }

#gameContainer { position:relative; width:100vw; height:100vh; display:flex; align-items:center; justify-content:center; }

/* èƒŒæ™¯å›¾ */
#backgroundImage { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transition:opacity 1s; z-index:1; opacity:0; }
#storyOverlay { position:absolute; inset:0; background:linear-gradient(to bottom,rgba(0,0,0,0.3)0%,rgba(0,0,0,0.5)50%,rgba(0,0,0,0.7)100%); z-index:2; }

/* ç«‹ç»˜ */
.sprite { position:absolute; bottom:0; height:78vh; z-index:3; opacity:0; transition:opacity .5s; }
.sprite.visible { opacity:1; }
#characterMe { left:4%; }
#characterDoctor { right:4%; }

/* æ–‡æœ¬æ¡† */
#storyContainer {
  position:absolute; bottom:15%; left:50%; transform:translateX(-50%);
  width:90%; max-width:880px;
  background:rgba(0,0,0,0.82);
  border:2px solid var(--primary-color);
  border-radius:15px;
  padding:22px 28px;
  box-shadow:0 0 30px rgba(139,0,0,0.5);
  z-index:4;
}
.story-title {
  color:var(--primary-color);
  font-size:1.7em;
  text-align:center;
  margin-bottom:14px;
  font-weight:800;
  text-shadow:var(--text-shadow);
}
#speakerBar { display:none; }
#speakerName {
  font-weight:800; color:var(--primary-color);
  background:rgba(255,255,255,0.05);
  padding:6px 14px;
  border-radius:999px;
  visibility:hidden;
}
#storyText {
  font-size:1.25em; line-height:1.8;
  text-align:justify;
  text-shadow:var(--text-shadow);
  min-height:120px;
  opacity:0; transition:opacity .6s;
  white-space:pre-wrap;
}

/* æŒ‰é’® */
#continueButton {
  position:absolute; right:24px; bottom:24px;
  background:linear-gradient(45deg,var(--primary-color),var(--dark-red));
  border:0; border-radius:8px;
  padding:10px 18px;
  color:#fff; font-weight:700;
  cursor:pointer;
  box-shadow:0 4px 14px rgba(0,0,0,0.4);
  transition:all .3s;
}
#continueButton:hover { transform:translateY(-2px); box-shadow:0 6px 20px rgba(139,0,0,0.6); }

#skipButton {
  position:absolute; top:22px; right:22px;
  background:rgba(255,255,255,0.1);
  border:1px solid rgba(255,255,255,0.3);
  color:#ccc; padding:6px 12px;
  border-radius:6px; cursor:pointer;
  z-index:10;
}
#skipButton:hover { background:rgba(255,255,255,0.2); color:#fff; }

#bgmToggle {
  position:absolute; top:22px; left:22px;
  width:50px; height:50px;
  border-radius:50%; border:2px solid var(--primary-color);
  background:rgba(0,0,0,0.7); color:#fff;
  display:flex; align-items:center; justify-content:center;
  font-size:1.2em; cursor:pointer; z-index:10;
}
#bgmToggle:hover { background:var(--primary-color); transform:scale(1.05); }

/* ç¼©ç•¥å›¾ */
#thumbWrap { display:none; gap:10px; position:absolute; top:6%; left:50%; transform:translateX(-50%); z-index:5; }
.thumb-item { display:flex; flex-direction:column; align-items:center; }
.thumb { width:220px; border:3px solid #fff; border-radius:8px; cursor:pointer; transition:transform .15s; }
.thumb:hover { transform:translateY(-4px) scale(1.02); }
.thumb-label { margin-top:4px; font-size:.95em; font-weight:700; color:#ffd; text-shadow:var(--text-shadow); }

/* Modal */
#paperModal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.75); align-items:center; justify-content:center; z-index:999; }
#paperModal img { max-width:86vw; max-height:82vh; border:3px solid #fff; border-radius:8px; }
#paperModalClose { position:absolute; top:20px; right:20px; background:rgba(255,255,255,0.08); border:0; padding:6px 12px; border-radius:6px; cursor:pointer; color:#fff; }
</style>
</head>
<body>
<div id="gameContainer">
  <img id="backgroundImage" src="" alt="èƒŒæ™¯">
  <div id="storyOverlay"></div>

  <!-- ç«‹ç»˜ -->
  <img id="characterMe" class="sprite" src="../pictures/1.png" alt="æˆ‘">
  <img id="characterDoctor" class="sprite" src="../pictures/doctor.png" alt="ç‘é›ªåŒ»ç”Ÿ">

  <!-- æ§ä»¶ -->
  <button id="bgmToggle">ğŸ”‡</button>
  <button id="skipButton">è·³è¿‡</button>

  <!-- ç¼©ç•¥å›¾ -->
  <div id="thumbWrap">
    <div class="thumb-item">
      <img id="paperThumb" class="thumb" src="" alt="ç¼©ç•¥å›¾">
      <div id="thumbLabel"></div>
    </div>
  </div>

  <!-- æ–‡æœ¬æ¡† -->
  <div id="storyContainer">
    <div class="story-title">ç¬¬äº”ç«  Â· èµ°å»Šä¸åŠå…¬å®¤</div>
    <div id="speakerBar"><span id="speakerName"></span></div>
    <div id="storyText"></div>
    <button id="continueButton">ç»§ç»­</button>
  </div>

  <!-- Modal -->
  <div id="paperModal"><button id="paperModalClose">å…³é—­</button><img id="paperModalImg" src=""></div>

  <!-- BGM -->
  <audio id="bgmAudio" loop preload="auto"><source src="../audio/Home bgm.mp3" type="audio/mpeg"></audio>
</div>

<script>
const storySteps = [
  { speaker:"æˆ‘", text:"å†æŒ‰ä¸€æ¬¡äºŒæ¥¼è¯•è¯•å‘¢", bg:"../pictures/elevator.jpg" , sprite:"me" },

  { speaker:null, text:"ï¼ˆè½¬åœºï¼šåŠå…¬å®¤å¤–çš„èµ°å»Šï¼‰", bg:"../pictures/corridor.jpg" },
  { speaker:"æˆ‘", text:"æ¬¸ï¼Œè¿™æ¬¡å±…ç„¶çœŸçš„æ¥åˆ°äº†äºŒæ¥¼ï¼Ÿ", bg:"../pictures/corridor.jpg", sprite:"me" },
  { speaker:"æˆ‘", text:"è§„åˆ™é‡Œè¯´äº†ï¼ŒäºŒæ¥¼â€¦â€¦ä¸ä¹±æƒ³äº†ï¼Œè¿˜æ˜¯å°å¿ƒä¸ºä¸Šå§â€¦â€¦", bg:"../pictures/corridor.jpg" , sprite:"me" },
  { speaker:"æˆ‘", text:"â€œç‘é›ªâ€ï¼Ÿæˆ‘ä¸»æ²»åŒ»ç”Ÿçš„åŠå…¬å®¤å—ï¼Ÿæˆ‘æ˜¯ä¸æ˜¯åº”è¯¥æ•²æ•²é—¨â€¦â€¦", bg:"../pictures/rxoffice.jpg", sprite:"me"  },

  { speaker:null, text:"â€œå©å©â€ï¼Œæ— äººåº”ç­”ã€‚", bg:"../pictures/rxoffice.jpg" },
  { speaker:"æˆ‘", text:"â€¦â€¦ï¼ˆè¯•ç€è½¬åŠ¨é—¨æŠŠæ‰‹ï¼‰", bg:"../pictures/rxopendoor.jpg", sprite:"me" },
  { speaker:"æˆ‘", text:"æˆ‘å»ï¼Œç«Ÿç„¶æ²¡é”ï¼", bg:"../pictures/rxopendoor.jpg" , sprite:"me" },

  { speaker:null, text:"ï¼ˆè½¬åœºï¼šç‘é›ªåŒ»ç”Ÿçš„åŠå…¬å®¤ï¼‰", bg:"../pictures/doctor_office.jpg" },
  { speaker:"æˆ‘", text:"ç‘åŒ»ç”Ÿï¼Ÿæ‚¨åœ¨å—ï¼Ÿæˆ‘æ˜¯æ‚¨æ–°æ”¶çš„æ‚£è€…ã€‚", bg:"../pictures/doctor_office.jpg", sprite:"me" },
  { speaker:"æˆ‘", text:"æ²¡äººå—â€¦â€¦", bg:"../pictures/doctor_office.jpg", sprite:"me"  },

  { speaker:null, text:"æˆ‘èµ°åˆ°åŠå…¬æ¡Œå‰ï¼Œæ¡Œä¸Šæ•£è½ç€ä¸å°‘çº¸å¼ ã€‚", bg:"../pictures/records_table.jpg" },
  { speaker:"æˆ‘", text:"ç—…å†å•ï¼Ÿå˜¶â€¦â€¦å¥½åƒå†™çš„éƒ½æ˜¯ç—…äººçš„èº«ä½“æƒ…å†µå•Šï¼Œæˆ‘çœ‹çœ‹â€¦â€¦", bg:"../pictures/records_table.jpg" , sprite:"me" },

  // ç—…å†å•ä¸€ é«˜äº®
  { speaker: null, text: "ç—…å†å•ä¸€ï¼šç¼–å· B12", bg: "../pictures/records_table.jpg",
  paperImage: "../pictures/medical_1.jpg", paperKey: "paper1", paperLabel: "ç—…å†å•ä¸€ï¼ˆB12ï¼‰ â€” ç‚¹å‡»æ”¾å¤§" },

{ speaker: null, text: "å…¥é™¢æ—¶é—´ï¼š2025/8/25", bg: "../pictures/records_table.jpg", paperKey: "paper1" },

{ speaker: null, text: "æ³¨å°„è¯å‰‚ï¼š8.25 3ml HL-DD2.1 â†’ æ‰‹æœ¯åæ˜è¿·40åˆ†é’Ÿï¼Œæ— æ’å¼‚ç°è±¡ã€‚å¯çŸ­æš‚æ“æ§ 3 åˆ†é’Ÿã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper1" },

{ speaker: null, text: "æ³¨å°„è¯å‰‚ï¼š8.27 5ml HL-DD2.1 â†’ æ‰‹æœ¯åæµ‘èº«è‚¿èƒ€å‘ç´«ï¼Œä¸ªä½“æ­»äº¡ã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper1" },

{ speaker: null, text: "ç»“è®ºï¼šå®éªŒå¤±è´¥ã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper1", endHighlight: true },

  // ç—…å†å•äºŒ é«˜äº®
 { speaker: null, text: "ç—…å†å•äºŒï¼šç¼–å· B10", bg: "../pictures/records_table.jpg",
  paperImage: "../pictures/medical_2.jpg", paperKey: "paper2", paperLabel: "ç—…å†å•äºŒï¼ˆB10ï¼‰ â€” ç‚¹å‡»æ”¾å¤§" },

{ speaker: null, text: "å…¥é™¢æ—¶é—´ï¼š2025/8/13", bg: "../pictures/records_table.jpg", paperKey: "paper2" },

{ speaker: null, text: "æ³¨å°„è¯å‰‚ï¼š8.13 3ml HL-DD1 â†’ æ‰‹æœ¯åæ˜è¿·20åˆ†é’Ÿï¼Œæ— æ’å¼‚ç°è±¡ï¼Œæ¸…é†’åæ— ååº”ã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper2" },

{ speaker: null, text: "æ³¨å°„è¯å‰‚ï¼š8.15 5ml HL-DD1 â†’ æ‰‹æœ¯åæ˜è¿·30åˆ†é’Ÿï¼Œæ— æ’å¼‚ç°è±¡ï¼Œæ¸…é†’åå¤±å»ç¥æ™ºã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper2" },

{ speaker: null, text: "æ³¨å°„è¯å‰‚ï¼š8.17 éº»é†‰å‰‚ + 1ml HL-DD2 â†’ æ‰‹æœ¯åæ˜è¿·40åˆ†é’Ÿï¼Œæ¸…é†’åç¥æ™ºæ¸…é†’ï¼Œä½†æ— æ³•æ“æ§ã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper2" },

{ speaker: null, text: "æ³¨å°„è¯å‰‚ï¼š8.19 éº»é†‰å‰‚ + 3ml HL-DD2 â†’ æ‰‹æœ¯åæ˜è¿·60åˆ†é’Ÿï¼Œå¿ƒåŠ›è¡°ç«­æ­»äº¡ã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper2" },

{ speaker: null, text: "ç»“è®ºï¼šå®éªŒå¤±è´¥ã€‚", bg: "../pictures/records_table.jpg", paperKey: "paper2", endHighlight: true },


  { speaker:"æˆ‘", text:"å®éªŒå¤±è´¥ï¼Œå®éªŒå¤±è´¥ï¼Œéƒ½æ˜¯å®éªŒå¤±è´¥â€¦â€¦", bg:"../pictures/records_table.jpg", sprite:"me"  },
  { speaker:"æˆ‘", text:"æˆ‘ï¼šâ€œç¥æ™ºæ¸…é†’â€â€œçŸ­æš‚æ“æ§â€â€¦â€¦è¿™åˆ°åº•æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿï¼Ÿ", bg:"../pictures/records_table.jpg", sprite:"me" },

  { speaker:null, text:"ï¼ˆè½¬åœºï¼šåŠå…¬æ¡Œæ—çš„ä¹¦æŸœï¼‰", bg:"../pictures/bookcase.jpg" },
  { speaker:"æˆ‘", text:"è¯¶ï¼Œé‚£ä¸ªä¹¦æŸœé‡Œæœ‰ä¸œè¥¿ï¼Ÿ", bg:"../pictures/bookcase.jpg" , sprite:"me" },
  { speaker:"æˆ‘", text:"è¯¶ï¼Œè¿™ä¸ªæŸœå­æ€ä¹ˆæ˜¯é”ç€çš„ï¼Œè€Œä¸”é’¥åŒ™å°±æ’åœ¨é”ä¸Šå•Šï¼Ÿ", bg:"../pictures/touchlock.jpg", sprite:"me"  },
  { speaker:"æˆ‘", text:"å˜å±â€¦â€¦å˜å±â€¦â€¦(ç”¨åŠ›æ‹§é’¥åŒ™)", bg:"../pictures/lockedlock.png", sprite:"me"  },
  { speaker:"æˆ‘", text:"è¿™é”æ€ä¹ˆè¿™ä¹ˆéš¾å¼€ï¼Œæ˜¯æœ‰ä»€ä¹ˆè¯€çªå—ï¼Ÿ", bg:"../pictures/lockedlock.png" , sprite:"me" },
  { speaker:"æˆ‘", text:"è®©æˆ‘çœ‹çœ‹æ€ä¹ˆå›äº‹â€¦â€¦", bg:"../pictures/lockedlock.png", sprite:"me",jumpTo:"æ‰“å¼€æŸœå­å°æ¸¸æˆ.html?from=fifth-main&step=afterLock" },

  { speaker:null, text:"å’”å“’ã€‚", bg:"../pictures/openedlock.png" },
  { speaker:"æˆ‘", text:"å‘¼â€¦â€¦â€¦â€¦â€¦â€¦è¿™ç ´é”ç»ˆäºæ‰“å¼€äº†", bg:"../pictures/openedlock.png" , sprite:"me" },
  { speaker:null, text:"æ‰“å¼€ä¹¦æŸœï¼Œå–å‡ºæŠ¥é“ã€‚", bg: "../pictures/bookcase.jpg",
  paperImage: "../pictures/report_highlight.png", paperKey: "report", paperLabel: "æŠ¥é“æ‘˜å½• â€” ç‚¹å‡»æ”¾å¤§" },

{ speaker: null, text: "å¤–å›½æŸå®éªŒå®¤è¿‘æœŸå‘ç°åˆ‡é™¤äººç±»éƒ¨åˆ†å¤§è„‘ç»„ç»‡å¯ä½¿å…¶ä¿ç•™ç¥å¿—çš„åŒæ—¶ä¸ºåˆ‡é™¤è€…æ‰€æ“æ§ï¼", bg: "../pictures/bookcase.jpg", paperKey: "report" },
{ speaker: "æˆ‘", text: "ä»€ä¹ˆç©æ„ï¼Ÿï¼Ÿï¼Ÿåˆ‡é™¤è„‘ç»„ç»‡ï¼Ÿï¼Ÿï¼Ÿ", bg: "../pictures/bookcase.jpg", paperKey: "report" , sprite:"me" },

{ speaker: "æˆ‘", text: "â€œæˆ˜äº‰æœºå™¨ï¼Ÿâ€", bg: "../pictures/bookcase.jpg", paperKey: "report" , sprite:"me" },

{ speaker: "æˆ‘", text: "â€œæ‰“è´¥å®ƒçš„å”¯ä¸€æ–¹æ³•ï¼Ÿâ€", bg: "../pictures/bookcase.jpg", paperKey: "report", sprite:"me", endHighlight: true },

  { speaker:"æˆ‘", text:"è¿™â€¦â€¦è¿™ç®€ç›´ä¸§å¤±äººæ€§ï¼æˆ‘ä¸€å®šè¦é€ƒå‡ºå»ã€‚", bg:"../pictures/bookcase.jpg", sprite:"me" }
];

/* DOM */
let currentStep = 0; // å½“å‰æ­¥éª¤
let currentHighlightKey = null; // å½“å‰æ­£åœ¨é«˜äº®æ˜¾ç¤ºçš„ keyï¼ˆnull è¡¨ç¤ºæ²¡æœ‰é«˜äº®ï¼‰
let isTyping = false;
let currentBG = "";
const bgEl=document.getElementById('backgroundImage');
const textEl=document.getElementById('storyText');
const speakerEl=document.getElementById('speakerName');
const contBtn=document.getElementById('continueButton');
const spriteMe=document.getElementById('characterMe');
const spriteDoctor=document.getElementById('characterDoctor');
const thumbWrap=document.getElementById('thumbWrap');
const paperThumb=document.getElementById('paperThumb');
const thumbLabel=document.getElementById('thumbLabel');
const paperModal=document.getElementById('paperModal');
const paperModalImg=document.getElementById('paperModalImg');
const paperModalClose=document.getElementById('paperModalClose');
const skipBtn=document.getElementById('skipButton');
const bgmToggle=document.getElementById('bgmToggle');
const audio=document.getElementById('bgmAudio');

/* BGM */
let bgmMuted=true;
bgmToggle.onclick=()=>{bgmMuted=!bgmMuted; audio.muted=bgmMuted; bgmToggle.textContent=bgmMuted?'ğŸ”‡':'ğŸ”Š';};
audio.muted=bgmMuted; audio.play().catch(()=>{});

/* èƒŒæ™¯åˆ‡æ¢ */
function setBackground(src){
  if(!src || currentBG===src) return;
  currentBG=src; bgEl.style.opacity=0;
  setTimeout(()=>{ bgEl.src=src; setTimeout(()=>bgEl.style.opacity=1,80); }, 400);
}

/* æ‰“å­—æœº */
function typewriter(text){
  isTyping=true; textEl.style.opacity=0; textEl.textContent='';
  setTimeout(()=>{ textEl.style.opacity=1; let i=0;
    function tick(){ if(!isTyping) return;
      if(i<text.length){ textEl.textContent+=text.charAt(i++); setTimeout(tick,28);}
      else isTyping=false; }
    tick();
  },200);
}

/* æ˜¾ç¤ºç¼©ç•¥å›¾ */
function showThumb(step) {
  // å…ˆåˆ¤æ–­æ˜¯å¦éœ€è¦å…³é—­é«˜äº®
  if (step && step.endHighlight) {
    currentHighlightKey = null;
    paperThumb.src = '';
    thumbLabel.textContent = '';
    thumbWrap.style.display = 'none';
    return;
  }

  // å¼€å§‹æ–°çš„é«˜äº®
  if (step && step.paperImage && step.paperKey) {
    paperThumb.src = step.paperImage;
    thumbLabel.textContent = step.paperLabel || '';
    thumbWrap.style.display = 'flex';
    currentHighlightKey = step.paperKey;

    // å­˜æ¡£â€œæ”¶é›†åˆ°â€çš„æ ‡è®°
    if (!collected[step.paperKey]) {
      collected[step.paperKey] = true;
      localStorage.setItem('collected_' + step.paperKey, '1');
    }
    return;
  }

  // åœ¨åŒä¸€é«˜äº®æ®µä¸­ç»§ç»­ä¿æŒæ˜¾ç¤º
  if (step && step.paperKey && currentHighlightKey === step.paperKey) {
    thumbWrap.style.display = 'flex';
    return;
  }

  // å¦‚æœå½“å‰æ²¡æœ‰é«˜äº® â†’ ç¡®ä¿éšè—
  if (!currentHighlightKey) {
    paperThumb.src = '';
    thumbLabel.textContent = '';
    thumbWrap.style.display = 'none';
  } else {
    // å¦åˆ™ç»§ç»­æ˜¾ç¤ºï¼ˆç›´åˆ°é‡åˆ° endHighlightï¼‰
    thumbWrap.style.display = 'flex';
  }
}


/* modal */
paperThumb.onclick=()=>{ if(paperThumb.src) { paperModalImg.src=paperThumb.src; paperModal.style.display='flex'; } };
paperModalClose.onclick=()=>{paperModal.style.display='none';};

/* å±•ç¤ºæ­¥éª¤ */
function showStep(i){
  if(i>=storySteps.length){ endChapter(); return; }
  currentStep=i; const step=storySteps[i];
  
  // æ£€æŸ¥æ˜¯å¦éœ€è¦è·³è½¬åˆ°å°æ¸¸æˆ
  if(step.jumpTo) {
    window.location.href = step.jumpTo;
    return;
  }
  
  setBackground(step.bg);

  // æ§åˆ¶ç«‹ç»˜
  spriteMe.classList.remove('visible');
  spriteDoctor.classList.remove('visible');
  if(step.sprite==="me") spriteMe.classList.add('visible');
  if(step.sprite==="doctor") spriteDoctor.classList.add('visible');

  // æ§åˆ¶è¯´è¯äºº - ä¸å†å•ç‹¬æ˜¾ç¤ºï¼Œå°†åœ¨æ–‡æœ¬ä¸­æ˜¾ç¤º
  speakerEl.style.visibility='hidden';

  // æ‰“å­—æœºæ–‡å­— - å¦‚æœæœ‰è¯´è¯äººï¼Œåœ¨æ–‡æœ¬å‰æ˜¾ç¤ºè§’è‰²å
  let displayText = step.text;
  if(step.speaker) {
    displayText = `${step.speaker}ï¼š${step.text}`;
  }
  typewriter(displayText);

  // ç¼©ç•¥å›¾/é«˜äº®
  showThumb(step);
}

/* ä¸‹ä¸€æ­¥ */
function nextStep(){
  if(isTyping){ isTyping=false; textEl.textContent=storySteps[currentStep].text; return; }
  showStep(currentStep+1);
}

contBtn.onclick=nextStep;
document.addEventListener('keydown',e=>{
  if(e.code==="Space" || e.code==="Enter"){ e.preventDefault(); nextStep(); }
});

/* è·³è¿‡æŒ‰é’® */
skipBtn.onclick=()=>{ endChapter(); };

/* ç« èŠ‚ç»“æŸ */
function endChapter(){
  window.location.href="æ‹‰6.html";
}

/* åˆå§‹åŒ– */
// æ£€æŸ¥URLå‚æ•°ï¼Œå¦‚æœä»å°æ¸¸æˆè¿”å›åˆ™è·³è½¬åˆ°å¯¹åº”æ­¥éª¤
const urlParams = new URLSearchParams(window.location.search);
const resumeFrom = urlParams.get('resumeFrom');

if (resumeFrom === 'afterLock') {
  // æ‰¾åˆ°å¼€é”åçš„æ­¥éª¤ç´¢å¼•ï¼ˆ"å’”å“’ã€‚"é‚£ä¸€æ­¥ï¼‰
  const afterLockStepIndex = storySteps.findIndex(step => step.text === 'å’”å“’ã€‚');
  if (afterLockStepIndex !== -1) {
    showStep(afterLockStepIndex);
  } else {
    showStep(0); // å¦‚æœæ‰¾ä¸åˆ°ï¼Œä»å¤´å¼€å§‹
  }
} else {
  showStep(0);
}
</script>
</body>
</html>
